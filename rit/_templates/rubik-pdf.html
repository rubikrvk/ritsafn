<div class="tocsection sourcelink" data-depth="{{ html_page_depth }}" data-subfolder="{{ html_subfolder }}">
  <a id="pdf-link" href="#" style="display: inline-block; padding: 0; margin: 0; line-height: 1.5; vertical-align: middle;">
    <i class="fa-solid fa-file-pdf" style="margin-left: 0px; margin-right: 6px; margin-bottom: 3px; font-size: inherit; line-height: inherit; vertical-align: middle; display: inline-block; width: 1em; height: 1em;"></i>{{ ("SÃ¦kja PDF") }}</a>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    const linkElement = document.getElementById('pdf-link');
    if (!linkElement) return;

    const tocSection = document.querySelector('.tocsection.sourcelink');
    const depth = parseInt(tocSection.getAttribute('data-depth'), 10);
    const subfolder = tocSection.getAttribute('data-subfolder');
    
    let pdfLink = "";

    // Determine the PDF link based on the depth attribute
    if (depth === 0) {
      pdfLink = `./RUBIK-oll-rit-sameinud.pdf`;
    } else {
      let relativePath = "./";

      // Generate the relative path prefix (../ for each depth level beyond 1)
      for (let i = 1; i < depth; i++) {
        relativePath += "../";
      }

      pdfLink = `${relativePath}RUBIK-${subfolder}.pdf`;
    }

    linkElement.href = pdfLink;
  });
</script>
